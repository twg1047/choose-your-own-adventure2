<!DOCTYPE html>
<html>
<head>
    <title>Choose Your Own Adventure</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .choice { margin-top: 20px; cursor: pointer; color: blue; text-decoration: underline; }
    </style>
</head>
<body>
    <h1>Choose Your Own Adventure</h1>
    <div id="story"></div>
    <script>
        const story = {
            start: {
                text: "You find an old, dusty book in your school library. As you flip through its pages, a bright light surrounds you. Suddenly, you are no longer in the library—you've been transported to a mystical world! You find yourself standing in a vast forest, with two paths ahead. What will you do?",
                choices: [
                    { text: "Take the left path towards the glowing trees.", next: "glowing_trees" },
                    { text: "Take the right path leading to a dark cave.", next: "dark_cave" }
                ]
            },
            glowing_trees: {
                text: "As you walk toward the glowing trees, you notice the air is shimmering with magic. Tiny fairy-like creatures dart between the branches. One of them flies up to you and whispers, 'The book has chosen you! Seek the lost crystal in the Enchanted River.' You spot a bridge leading across the river and a boat tied to the shore. How will you cross?",
                choices: [
                    { text: "Walk across the bridge.", next: "bridge_crossing" },
                    { text: "Take the boat.", next: "boat_ride" }
                ]
            },
            dark_cave: {
                text: "You step into the dark cave, your footsteps echoing. Suddenly, glowing eyes appear in the darkness! A deep voice rumbles, 'Who dares enter my domain?' You realize it's a talking dragon guarding a treasure chest. The dragon offers you a choice: answer a riddle correctly to pass, or turn back. What will you do?",
                choices: [
                    { text: "Attempt to solve the dragon’s riddle.", next: "dragon_riddle" },
                    { text: "Turn back and choose another path.", next: "start" }
                ]
            },
            bridge_crossing: {
                text: "As you step onto the bridge, the wood creaks beneath your feet. Halfway across, you see a troll blocking your way. 'To pass, you must trade me something valuable,' the troll demands. You search your pockets and find a shiny marble and a golden key. Which will you offer?",
                choices: [
                    { text: "Give the troll the shiny marble.", next: "marble_trade" },
                    { text: "Give the troll the golden key.", next: "key_trade" }
                ]
            },
            boat_ride: {
                text: "You untie the boat and push off from the shore. As you drift down the river, the water begins to glow, revealing hidden symbols beneath the surface. You feel a strange energy flowing through you. Ahead, you see two paths: one leading to a waterfall and another to a small island. Where will you go?",
                choices: [
                    { text: "Head toward the waterfall.", next: "waterfall_path" },
                    { text: "Steer towards the island.", next: "island_path" }
                ]
            },
            dragon_riddle: {
                text: "The dragon's eyes gleam as it speaks: 'I speak without a mouth and hear without ears. I have no body, but I come alive with the wind. What am I?' You think carefully about your answer.",
                choices: [
                    { text: "A shadow.", next: "wrong_answer" },
                    { text: "An echo.", next: "correct_answer" }
                ]
            },
            correct_answer: {
                text: "The dragon nods approvingly. 'You are wise! You may take one item from my treasure chest.' Inside, you find a glowing gem and an ancient scroll. Which will you take?",
                choices: [
                    { text: "Take the glowing gem.", next: "gem_path" },
                    { text: "Take the ancient scroll.", next: "scroll_path" }
                ]
            },
            wrong_answer: {
                text: "The dragon roars and shakes its head. 'Incorrect! You must leave at once.' You run back to the entrance of the cave, deciding to try another path.",
                choices: [
                    { text: "Go back to the start.", next: "start" } ]
            },
            marble_trade: {
                text: "The troll examines the marble and shakes its head. 'This is not enough!' it growls. You must turn back and choose another way forward.",
                choices: [
                    { text: "Go back to the start.", next: "start" } ]
            },
            key_trade: {
                text: "The troll takes the golden key and grins. 'A fine trade! You may pass.' Beyond the bridge, you see a magnificent castle shimmering in the distance. What will you do?",
                choices: [
                    { text: "Approach the castle.", next: "castle_path" } ]
            }
        };

        function displayStory(section) {
            const storyDiv = document.getElementById("story");
            storyDiv.innerHTML = "<p>" + story[section].text + "</p>";
            story[section].choices.forEach(choice => {
                const choiceElement = document.createElement("div");
                choiceElement.className = "choice";
                choiceElement.innerText = choice.text;
                choiceElement.onclick = () => displayStory(choice.next);
                storyDiv.appendChild(choiceElement);
            });
        }

        displayStory("start");
    </script>
</body>
</html>
